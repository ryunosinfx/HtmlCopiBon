!function(t){function e(e){for(var a,i,r=e[0],s=e[1],o=0,c=[];o<r.length;o++)i=r[o],n[i]&&c.push(n[i][0]),n[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);for(h&&h(e);c.length;)c.shift()()}var a={},n={2:0};var i={};var r={7:function(){return{}}};function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,i){a=n[t]=[e,i]});e.push(a[2]=o);var c,l=document.getElementsByTagName("head")[0],h=document.createElement("script");h.charset="utf-8",h.timeout=120,s.nc&&h.setAttribute("nonce",s.nc),h.src=function(t){return s.p+""+({}[t]||t)+".js"}(t),c=function(e){h.onerror=h.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+i+": "+r+")");s.type=i,s.request=r,a[1](s)}n[t]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:h})},12e4);h.onerror=h.onload=c,l.appendChild(h)}return({0:[7]}[t]||[]).forEach(function(t){var a=i[t];if(a)e.push(a);else{var n,o=r[t](),c=fetch(s.p+""+{7:"7becf356af835e37e85a"}[t]+".wasm");if(o instanceof Promise&&"function"==typeof WebAssembly.compileStreaming)n=Promise.all([WebAssembly.compileStreaming(c),o]).then(function(t){return WebAssembly.instantiate(t[0],t[1])});else if("function"==typeof WebAssembly.instantiateStreaming)n=WebAssembly.instantiateStreaming(c,o);else{n=c.then(function(t){return t.arrayBuffer()}).then(function(t){return WebAssembly.instantiate(t,o)})}e.push(i[t]=n.then(function(e){return s.w[t]=(e.instance||e).exports}))}}),Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/dest/",s.oe=function(t){throw console.error(t),t},s.w={};var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var h=c;s(s.s=1)}([,function(t,e,a){"use strict";a.r(e);a(6);class n{constructor(){}static create(t,e,a){return n.ce("div",t,e,a)}static createInput(t,e,a){return n.ce("input",t,e,a)}static createText(t,e,a){return n.ce("text",t,e,a)}static createFile(t,e,a){return n.ce("input",t,e,a,"file")}static createCanvas(t,e,a){return n.ce("canvas",t,e,a)}static createImage(t,e,a){return n.ce("img",t,e,a)}static createUl(t,e,a){return n.ce("ul",t,e,a)}static createLabel(t,e,a,i){const r=n.ce("label",t,e,a);return r.setAttribute("for",i),r}static createLi(t,e,a){return n.ce("li",t,e,a)}static createSpan(t,e,a){return n.ce("span",t,e,a)}static createStrong(t,e,a){return n.ce("strong",t,e,a)}static createA(t,e,a){return n.ce("a",t,e,a)}static ce(t,e,a,n,i){const r=document.createElement(t);return r.className=a,e&&(r.id=e),"input"===t&&n?(r.setAttribute("value",n),i&&r.setAttribute("type",i)):n&&(r.textContent=n),r}static on(t,e,a){t.addEventListener(e,a,!1)}static off(t,e,a){t.removeEventListener(e,a,!1)}static append(t,e){t.appendChild(e)}static insertFirst(t,e){t.hasChildNodes()?t.insertBefore(e,t.childNodes[0]):t.appendChild(e)}static getBodyElm(){return document.getElementsByTagName("body")[0]}static attachBody(t){document.getElementsByTagName("body")[0].appendChild(t)}static detacthBodyById(t){const e=documet.getElementById(t);document.getElementsByTagName("body")[0].removeChild(e)}static removeChild(t){t.parentNode.removeChild(t)}static remove(t){const e=documet.getElementById(t);e.parentNode&&e.parentNode.removeChild(e)}static removeChildren(t){const e=documet.getElementById(t);for(;e.firstChild;)e.removeChild(e.firstChild)}static setStyles(t,e){for(let a in e)t.style[a]=e[a]}static text(t,e){t.textContent=e}static emit(t,e,a=!0,n=!0){const i=document.createEvent("HTMLEvents");return i.initEvent(e,a,n),t.dispatchEvent(i)}}const i=["Attach"];class r{constructor(){}static getBaseActions(){return i}static createAction(t,e,a=null){return{type:t,data:e,storeKey:a}}static creatAttachAction(t,e,a,n=null){return{type:"Attach",data:a,parentView:t,selector:e.id,storeKey:n}}static createShowViewAction(t,e,a,n,i=null){return r.createGoOtherViewAction(t,null,e,a,n,i)}static createGoOtherViewAction(t,e,a,n,i,r=null){let s=i;return e||a?(i||(s={}),s.view=e,s.oldVnode=a,s.selector=n,{type:t,data:s,storeKey:r}):(console.log("createGoOtherViewAction is null!"),{type:t,data:s,storeKey:r})}static isEquals(t,e){return!(!t||!e||t.type!==e.type)}}const s={},o=[];class c{constructor(){this.queue=[]}addActiveView(t,e,a){const n=t.id,i=e.id;console.log("addActiveView currentId:"+i);const r=this.findActivViews(s,n);if(console.log("addActiveView resultParent:"+r),r&&r.primaryView){const t=r[i];t&&t.primaryView?(t.primaryView=e,t.parent=r):a?(a.parent=r,r[i]=a):r[i]={primaryView:e,parent:r}}else s[i]=a||{primaryView:e,parent:s};this.loadAllActiveViews()}changeActiveView(t,e,a){const n=t.id;console.log("changeActiveView currentId:"+n);const i=this.findActivViews(s,n);if(!i)return;const r=i.parent;delete r[n];const o=e.id;return a&&a.primaryView?(r[o]=a,a.primaryView=e,a.parent=r):r[o]={primaryView:e,parent:r},this.loadAllActiveViews(),i}removeActiveView(t){const e=t.id;console.log("removeActiveView currentId:"+e);const a=this.findActivViews(s,e);if(a)return delete a.parent[e],this.loadAllActiveViews(),a}findActivViews(t,e,a,n){let i=null;console.log("findActivViews id:"+e+"/count:"+n+"/activeViewsTree:"+t.primaryView+"/"+t.parent);try{console.log(t)}catch(t){console.log(t)}const r=n?n+1:1;if(r>5)return null;if(t)for(let n in t){if(void 0===n||"undefined"===n||"parent"===n||"primaryView"===n)continue;const s=t[n];s.primaryView&&s.parent&&(a&&a(s),n===e?i=s:s&&"view"!==n&&"0"!==n&&(i=this.findActivViews(s,e,a,r)))}return i}loadAllActiveViews(){const t=[];this.findActivViews(s,"all",e=>{t.push(e)});const e=o.length;for(let t=0;t<e;t++)o.pop();for(let e of t)e.primaryView&&e.parent&&o.push(e.primaryView);return o}getActiveViewList(){return o}}class l{static deepClone(t){const e=new MessageChannel,a=e.port1,n=e.port2;return new Promise(e=>{a.onmessage=(t=>{e(t.data)}),n.postMessage(t)})}static simpleDeepClone(t){return JSON.parse(JSON.stringify(t))}static singleDeepClone(t){const e={};for(let a in t){let n=t[a];e[a]=n}return e}static singleDeepCloneWithoutFuncs(t){const e={};for(let a in t){let n=t[a];"function"!=typeof n&&(e[a]=n)}return e}}const h=new Map,u="aaa";class d{constructor(t){}static getStore(t){const e=t||u,a=h.has(e)?h.get(e):null,n=a?l.simpleDeepClone(a):{};return n.oldVnode=a?a.oldVnode:null,n}static setStore(t,e){const a=e||u,n=t?l.simpleDeepClone(t):{};n.oldVnode=t.oldVnode,h.set(a,n)}}const p=new c,m=new Map;class g{constructor(t){this.view=t}static add(t,e){if(console.log("ActionDispatcherImple add00"+t),!t)return!1;console.log("ActionDispatcherImple add01"+t.type);const a=t.type;if(!a)return!1;if(m.has(a)){const t=m.get(a);if(t.includes(e))return!1;t.push(t)}else m.set(a,[e]);return!0}static remove(t){const e=t.type;if(!e)return!1;if(m.has(e)){const t=m.get(e);if(t.includes(reducer))return!1;{const e=t.indexof(reducer);t.splice(e,1)}}return!0}async dispatch(t){const e=t.type;if(!e)return!1;const a=t.data,n=t.storeKey;let i=d.getStore(n),r=this.view;if(console.log("dispatch01"),m.has(e)){const a=m.get(e);for(let e of a)i=await e.preReduce(i,t),i=await e.reduce(i,t),i=await e.postReduce(i,t);d.setStore(i)}if(console.log("dispatch02"),i.isOrverride&&t.data.view){if(r=t.data.views,!1===this.view.onViewHide(r,a))return;this.callUpdate(r,a,n),this.view.onViewHidden(r,a)}else this.callUpdate(r,a,n);return i=d.getStore(n),!0}callUpdate(t,e,a){const n=p.getActiveViewList();for(let i of n){const n=d.getStore(a);i.onViewShow(n,e),t===i?(console.log("callUpdate update id:"+i.id+"/activeView.elm.parentNode:"+i.elm.parentNode),i.elm.parentNode?t.update(n,e):t.updateAsAttach(n,e)):(console.log("callUpdate updateReactive id:"+i.id+"/activeView.elm.parentNode:"+i.elm.parentNode),i.elm.parentNode?i.updateReactive(n,e):t.updateAsAttach(n,e)),i.onViewShown(n,e)}console.log("callUpdate END----------------")}}class y{constructor(){}static create(t){return new g(t)}}const f=new c;class w{constructor(t,e,a){this.ms=t&&t.ms?t.ms:null,this.dispatcher=y.create(this),this.id=e,this.parent=t,this.preRender(e,a)}init(){}preRender(t,e){console.log("preRender");const a=d.getStore();this.onViewLoad(a),this.elm=n.create(t,e),this.paren&&this.paren.elm&&n.append(this.parent.elm,this.elm),this.onViewLoaded(a)}updateReactive(t,e){console.log("BaseView★updateReactive this.id:"+this.id),console.log(t),console.log(e)}updateAsAttachExecute(t,e){const a=this.render();console.log("BaseView★updateAsAttach this.id:"+this.id+"/this.parentView.elm:"+this.parentView.elm),n.append(this.parentView.elm,a),this.elm=a,console.log(t),console.log(e)}updateAsAttach(t,e){this.updateAsAttachExecute(t,e)}update(t,e){console.log("BaseView★update this.id:"+this.id),console.log(t),console.log(e)}attach(t,e,a){this.parentView=t,this.selector=e,e||console.log("★attach selector is null :"+e);const n=d.getStore();this.onPreViewBuild(n),this.activeViewTree=f.addActiveView(t,this,this.activeViewTree),console.log("---show selector:"+e+"/parentView:"+t.id+"/this.id:"+this.id);const i=r.creatAttachAction(t,this,a);this.dispatcher.dispatch(i)}changeAnotherView(t,e,a){this.onViewHide(a,store,actionData);const n=r.creatAttachAction(t,this,data);this.dispatcher.dispatch(n),this.onViewHidden(a,store,actionData)}onViewLoad(t,e){console.log("m001 baseView.onViewLoad name:"+name+"/actionData:"+e)}onViewLoaded(t,e){console.log("m002 baseView.onViewLoaded name:"+name+"/actionData:"+e)}onPreViewBuild(t,e){console.log("m003a baseView.onPreViewBuild store:"+t+"/actionData:"+e)}onViewShow(t,e){console.log("m003 baseView.onViewShow newNode:/store:"+t)}onViewShown(t,e){console.log("m004 baseView.onViewShown newNode:/store:"+t)}onViewHide(t,e,a){return console.log("m005 baseView.onViewHide nextView:"+t+"/actionData:"+a),!0}onViewHidden(t,e,a){console.log("m006 baseView.onViewHidden nextView:"+t+"/actionData:"+a)}render(){return n.create("BaseView","BaseView")}getAnker(){return this.elm}}class b extends w{constructor(t,e){super(t,"header","header"),this.titleText=e}render(){const t=n.create("title","title");return n.text(t,this.titleText),n.append(this.elm,t),this.elm}}class v extends w{constructor(t){super(t,"ProgressBar","ProgressBar")}render(){return this.elm}init(){this.elm.style.width="0%",this.elm.textContent="0%"}progress(t){this.elm.style.width=t+"%",this.elm.textContent=t+"%"}compliet(){this.elm.style.width="100%",this.elm.textContent="100%",setTimeout(()=>{this.elm.className=""},2e3)}start(){this.elm.className="loading"}}class A{constructor(){}}class B extends A{constructor(t){super(),this.fileProcessor=t,this.name="FileUploader"}handleFileSelect(){return t=>{t.stopPropagation(),t.preventDefault();const e=t.target.files;this.handleFiles(e)}}handleDrop(){return t=>{t.stopPropagation(),t.preventDefault();const e=t.dataTransfer.files;this.handleFiles(e)}}handleFiles(t){this.fileProcessor.processFiles(t)}async areadParFile(t){return await areadParFile(t)}}const N="ここにファイルをアップロードしてください。";class D extends w{constructor(t){super(t,"fuaPArent","frame")}render(){this.fileInput=n.createFile("FileUploadFile","FileUploadFile",N);const t=n.createLabel("FileUploadArea","FileUploadArea",N,"FileUploadFile");return n.append(this.elm,t),n.append(this.elm,this.fileInput),this.elm}addEventListeners(t){this.fu=new B(t),n.on(this.fileInput,"change",this.fu.handleFileSelect()),n.on(this.elm,"dragover",this.fu.handleDrop()),n.on(this.elm,"drop",this.fu.handleDrop()),n.on(this.elm,"click",t=>{n.emit(this.fileInput,"click",!1,!1)})}}class x extends w{constructor(t){super(t,"TitleSettings","TitleSettings"),this.text="TitleSettings"}render(){const t=n.create("TitleSettingsA","TitleSettingsA",this.text);return n.append(this.elm,t),this.elm}}class P extends w{constructor(t){super(t,"ExportButton","ExportButton"),this.text="ExportButton"}render(){const t=n.create("ExportButtonA","ExportButtonA",this.text);return n.append(this.elm,t),this.elm}}class E{static binaryString2ArrayBuffer(t){return E.binaryString2Uint8Array(t).buffer}static arrayBuffer2BinaryString(t){return E.uint8Array2BinaryString(new Uint8Array(t))}static arrayBuffer2base64(t){return btoa(E.uint8Array2BinaryString(new Uint8Array(t)))}static arrayBuffer2DataURI(t,e="application/octet-stream"){return"data:"+e+";base64,"+btoa(E.arrayBuffer2BinaryString(t))}static binaryString2Uint8Array(t){t.split("");const e=t.length,a=new Uint8Array(new ArrayBuffer(e));for(let n=0;n<e;n++)a[n]=t.charCodeAt(n);return a}static uint8Array2BinaryString(t){let e=[];for(let a of t)e.push(String.fromCharCode(a));return e.join("")}static binaryString2DataURI(t,e="application/octet-stream"){return"data:"+e+";base64,"+btoa(t)}static base642DataURI(t,e="application/octet-stream"){return"data:"+e+";base64,"+t}static base642binaryString(t){return atob(t)}static base642ArrayBuffer(t){return E.binaryString2ArrayBuffer(atob(t))}static dataURI2BinaryString(t){return atob(t.split(",")[1])}static dataURI2ArrayBuffer(t){return E.binaryString2Uint8Array(atob(t.split(",")[1])).buffer}static uintArray2ArrayBuffer(t){return t.buffer}static arrayBuffer2Uint8Array(t){return new Uint8Array(t)}static arrayBuffer2Uint16Array(t){return new Uint16Array(t)}static arrayBuffer2Uint32Array(t){return new Uint32Array(t)}static ArrayBuffer2Blob(t,e="application/octet-stream"){return new Blob([t],{type:e})}static readBlob(t){const e=new FileReader,a=new Promise((t,a)=>{e.onload=(a=>{t(e.result)}),e.onerror=(t=>{a(e.error)})});return{asArrayBuffer:()=>(e.readAsArrayBuffer(t),a),asBinaryString:()=>(e.readAsBinaryString(t),a),asDataURL:()=>(e.readAsDataURL(t),a),asText:()=>(e.readAsText(t),a)}}}class S{constructor(t="oid"){this.pk=t,this.refs=[]}isEntitiy(){return!0}getEntityName(){return this.constructor.name}create(){}update(){}setPk(t){return this[this.pk]=t}getPk(){return this[this.pk]}include(t){console.log("!=======BaseEntity.include====================!!"),console.log(t)}exclude(t){console.log("!=======BaseEntity.exclude====================!!"),console.log(t)}async deepClone(){return await l.deepClone(this)}load(t){for(let e in t)this[e]=t[e]}toObj(){let t=l.singleDeepCloneWithoutFuncs(this);return delete t.pk,delete t.refs,this.exclude(t),t}}const I="-";class k{constructor(t){this.pk=t}static getDelimiter(){return"-"}static assemblePK(t,e){return t.getEntityName()+I+e}static isPrimaryKey(t){return t&&"string"==typeof t&&2===t.split(I).length}static getPrimaryKey(t){return t?k.isPrimaryKey(t)?t:t.getEntityName&&t.getPk?t.getPk():t.pk?t.pk:null:t}static getEntityName(t){return k.getPrimaryKey(t).split(I)[0]}}class V{constructor(){}static asc(t,e){const a=V.execute([{colName:e,isDESC:!1}]);t.sort(a)}static desc(t,e){const a=V.execute([{colName:e,isDESC:!0}]);t.sort(a)}static orderBy(t,e){const a=V.execute(e);t.sort(a)}static execute(t){return(e,a)=>{for(let n of t){const{colName:t,isDESC:i}=n;if(e===a)return 0;if(!e)return i?-1:1;if(!a)return i?1:-1;let r=e[t],s=a[t];if(r<s)return i?-1:1;if(r>s)return i?1:-1}return 0}}static thinningNullData(t){const e=[];for(let a in t){const n=t[a];null!==n&&void 0!==n&&e.push(n)}const a=t.length;for(let e=0;e<a;e++)t.pop();for(let a in e){const n=e[a];t.push(n)}}static typeof(){}}var U={dbName:"CopiBon",ua:navigator.userAgent.replace(/[\.0-9]+/g,"x"),domain:window.location};class O{static currentTables(t,e){return e||[t]}static isMutch(t,e){if(void 0===e||null===e)return!1;if(Array.isArray(e)){for(let a of e)if(O.isMutch(t,a))return!0;return!1}for(let a in e){let n=e[a];if("object"==typeof n){if(O.isMutch(t,n))return!0}else{if(t[a]!==n)return!1}}return!0}static makeKeyRange(t,e,a,n){return void 0===a&&void 0===n?IDBKeyRange.bound(t,e,!1,!1):IDBKeyRange.bound(t,e,a,n)}static makeKeyRangeUpper(t,e){return!0!==e?IDBKeyRange.upperBound(t):IDBKeyRange.upperBound(t,e)}static makeKeyRangeLower(t,e){return!0!==isNotEqualStart?KeyRange.lowerBound(t):IDBKeyRange.lowerBound(t,e)}static makeKeyRangeOnly(t){return!0!==isNotEqualStart?IDBKeyRange.only(t):IDBKeyRange.lowerBound(end,isNotEqualEnd)}static buildKeyPath(t,e,a,n,i){let r=[];return void 0!==t&&r.push((t+"").split("&").join("&amp;").split(".").join("&#046;")),void 0!==e&&r.push((e+"").split("&").join("&amp;").split(".").join("&#046;")),void 0!==a&&r.push((a+"").split("&").join("&amp;").split(".").join("&#046;")),void 0!==n&&r.push((n+"").split("&").join("&amp;").split(".").join("&#046;")),void 0!==i&&r.push((i+"").split("&").join("&amp;").split(".").join("&#046;")),r.join("")}}const T="readonly",R="readwrite";class C{constructor(t){this.IDBKeyRange=window.IDBKeyRange,this.indexedDB=window.indexedDB,this.dbName=t,this.keyPathMap={}}getOpenDB(t){return new Promise((e,a)=>{let n=this.indexedDB.open(this.dbName,t);n.onsuccess=(t=>{e(t.target.result)}),n.onupgradeneeded=(t=>{e(t.target.result)}),n.onabort=(t=>{e(t)}),n.onerror=(t=>{a(t)})})}getObjectStore(t,e,a,n){let i=t.transaction(a,n);return i.oncomplete=(e=>{t.close()}),i.onerror=(e=>{t.close()}),i.objectStore(e)}throwNewError(){return t=>{throw t.stack?console.log(t.stack):console.log(t.message,t),new Error(t)}}getKeyPathByMap(t){return this.keyPathMap[t]}async getKeyPath(t){let e=this.keyPathMap[t];if(void 0!==e&&null!==e)return e;const a=await this.getOpenDB().catch(this.throwNewError());let n=this.getObjectStore(a,t,[t],T);a.close();let i=n.keyPath;return this.keyPathMap[t]=i,i}async getCurrentVersion(){let t=await this.getOpenDB().catch(this.throwNewError());const e=t.version;return t.close(),e}async selectAll(t){let{tableName:e,range:a,condetions:n}=t;return await this._selectAll(e,a,n)}async _selectAll(t,e,a){const n=await this.getOpenDB().catch(this.throwNewError());let i=this.getObjectStore(n,t,[t],T);return await this._selectAllExecute(i,e)}_selectAllExecute(t,e,a){return new Promise((n,i)=>{const r=[];let s=void 0===e?t.openCursor():t.openCursor(e);s.onsuccess=(t=>{let e=t.target.result;if(e){if(r.push(e.value),a)return void n(r[0]);e.continue()}else n(r)}),s.onerror=(t=>{i(t)})})}async selectByKey(t){let{tableName:e,key:a}=t;return await this._selectByKey(e,a)}async _selectByKey(t,e){const a=await this.getOpenDB().catch(this.throwNewError());return console.log("_selectByKey tableName:"+t+"/pk:"+e),console.log(e),await this._selectByKeyOnTran(a,t,e).catch(this.throwNewError())}_selectByKeyOnTran(t,e,a,n){return new Promise((n,i)=>{let r=this.getObjectStore(t,e,[e],T).get(a);r.onsuccess=(t=>{n(r.result)}),r.onerror=(t=>{i(t)})})}async selectFirstOne(t){let{tableName:e,range:a,direction:n}=t;return await this._selectFirstOne(e,a,n)}async _selectFirstOne(t,e,a){const n=await this.getOpenDB().catch(this.throwNewError());let i=this.getObjectStore(n,t,[t],T);return await this._selectAllExecute(i,e,!0)}async insertUpdate(t){let{tableName:e,data:a,callback:n}=t;const i=this.getKeyPathByMap();return await this._insertUpdate(e,i,a,n).catch(this.throwNewError())}async _insertUpdate(t,e,a,n){const i=a[e],r=await this.getOpenDB().catch(this.throwNewError()),s=O.currentTables(t),o=await this._selectByKeyOnTran(r,t,i,s).catch(this.throwNewError());return n&&n(o,a),void 0===o?await this._insertExecute(r,t,i,a,s).catch(this.throwNewError()):await this._updateExecute(r,t,i,a,s).catch(this.throwNewError())}_insertExecute(t,e,a,n,i){let r=this.getObjectStore(t,e,i,R);return new Promise((t,e)=>{let i=r.add(n);i.onsuccess=(e=>{t({data:n,key:a})}),i.onerror=(t=>{e(t)})})}_updateExecute(t,e,a,n,i){return new Promise((r,s)=>{let o=this.getObjectStore(t,e,i,R).put(n);o.onsuccess=(t=>{r({data:n,key:a})}),o.onerror=(t=>{r(t)})})}async deleteWithRange(t){let{tableName:e,range:a,condetions:n}=t;return await this._deleteWithRange(e,a,n)}async _deleteWithRange(t,e,a){const n=await this.getOpenDB().catch(this.throwNewError()),i=O.currentTables(t);return await this._deleteWithRangeExecute(n,t,e,a,i)}_deleteWithRangeExecute(t,e,a,n,i){return new Promise((r,s)=>{let o=this.getObjectStore(t,e,i,R),c=o.openCursor(a);c.onsuccess=(t=>{let e=t.target.result,a=[];if(e){let t=e.value;if(O.isMutch(t,n)){let n=o.delete(e.key);n.onsuccess=(e=>{a.push(t)}),n.onerror=(t=>{})}e.continue()}else r(a)}),c.onerror=(t=>{s(t)})})}async delete(t){let{tableName:e,key:a}=t;return await this._delete(e,a)}async _delete(t,e){const a=await this.getOpenDB().catch(this.throwNewError()),n=O.currentTables(t);return await this._deleteOnTran(a,t,e,n)}_deleteOnTran(t,e,a,n){return new Promise((i,r)=>{let s=this.getObjectStore(t,e,n,R).delete(a+"");s.onsuccess=(t=>{i({tableName:e,key:a})}),s.onerror=(t=>{r(t)})})}async truncate(t){let{tableName:e}=t;return await this._truncate(e)}async _truncate(t){const e=await this.getOpenDB().catch(this.throwNewError()),a=O.currentTables(t);return await this._truncateExecute(e,t,a)}_truncateExecute(t,e,a){return new Promise((n,i)=>{let r=this.getObjectStore(t,e,a,R).clear();r.onsuccess=(t=>{n()}),r.onerror=(t=>{i(t)})})}async getObjectStoreNames(){const t=await this.getOpenDB().catch(this.throwNewError()),e=t.objectStoreNames;return t.close(),e}async isExistsObjectStore(t){const e=await this.getOpenDB().catch(this.throwNewError());let a=!1;for(let n of e.objectStoreNames)if(n===t){a=!0;break}return e.close(),a}async createStore(t){let{tableName:e,keyPathName:a,isAutoIncrement:n}=t;return await this._createStore(e,a,n)}async _createStore(t,e,a){if(!1===await this.isExistsObjectStore()){const a=await this.getCurrentVersion()+1,n=await this.getOpenDB(a).catch(this.throwNewError());let i=!1;for(let e of n.objectStoreNames)if(e===t){i=!0;break}if(!1===i){n.createObjectStore(t,{keyPath:e})}n.close()}}async dropStore(t){let{tableName:e}=t;return await this._dropStore(e)}async _dropStore(t){const e=await this.getCurrentVersion()+1,a=await this.getOpenDB(e).catch(this.throwNewError());a.deleteObjectStore(t),a.close()}}class j{constructor(t,e="pk"){void 0===U.idbh&&(U.idbh=new C(U.dbName)),this.idbh=U.idbh,this.keyPathName=e,this.objectStoreName=t}init(){return new Promise((t,e)=>{this.idbh._createStore(this.objectStoreName,this.keyPathName).then(()=>{t(!0)},t=>{throw e(t),t})})}isFished(){return new Promise((t,e)=>{this.firstPromise.then(()=>{t(!0)},t=>{throw t})})}async saveDataDefault(t,e,a){let n={pk:t,data:e};await this.saveData(n,void 0,a)}async saveData(t,e,a){let n=t;void 0===t[this.keyPathName]&&((n={data:t})[this.keyPathName]=e);await this.idbh._insertUpdate(this.objectStoreName,this.keyPathName,n,a)}async loadData(t){if(void 0!==t){return await this.idbh._selectByKey(this.objectStoreName,t)}return null}async loadDataDefault(t){let e=await this.loadData(t);return void 0===e||null===e?null:e.data}async loadAllData(){return await this.idbh._selectAll(this.objectStoreName)}async deleteData(t){return void 0!==t?await this.idbh._delete(this.objectStoreName,t):null}async getOsNames(){return await this.idbh.getObjectStoreNames()}}const K="default",L=new Map;class F{constructor(t){this.entityClass=t,this.targetObj="string"==typeof t?t:new t,this.idbAccessor=null,this.entityName=this.targetObj.getEntityName?this.targetObj.getEntityName():t}getStoreNameKey(t=K){return t+"_"+this.targetObj.getEntityName()}async createStore(t=K){const e=this.getStoreNameKey(t);return await this.createStoreByName(e,t)}async createStoreByName(t,e=K){const a=L.has(t)?L.get(t):new j(t);return await a.init().catch(t=>{console.log(t)}),L.set(t,a),this.idbAccessor=a,a}async setStore(t=K){this.idbAccessor=await this.createStore(t)}async save(t,e){let a=e;return e.toObj&&(a=e.toObj()),await this.idbAccessor.saveDataDefault(t,a),e}async loadAll(){const t=await this.idbAccessor.loadAllData(),e=[];for(let a of t){const t=this.getEntity(a);e.puhs(t)}return e}async get(t){const e=t&&t.pk?t.pk:t,a=await this.idbAccessor.loadData(e);return this.getEntity(a)}getEntity(t){if(!t||!t.data)return t;if(t.data&&!this.targetObj.getEntityName)return t.data;const e=new this.entityClass;return e.load(t.data),e}async delete(t){return await this.idbAccessor.deleteData(t)}}class _ extends S{constructor(t){super(),this.data=t,this.createDate=Date.now(),this.updateDate=Date.now()}set ab(t){buffer&&!buffer.byteLength&&alert("not arrayBuffer!"),this.data=t}get ab(){return this.data}create(){return new _}}const M="default",W="pk_increment",H="pk_row";class q{constructor(t){this.ss=new F(t+"_"+W)}async acquirePKNo(t=M,e,a=H){e.getEntityName();await this.ss.createStoreByName(t+"_"+W,t);let n=await this.ss.get(a),i=this.countUpUint32(n?n.data:0);n||(n={data:i});let{data:r,keyPath:s}=await this.ss.save(a,n,(t,e)=>{let a=this.countUpUint32(e.data);t.data=a});return E.arrayBuffer2base64(r)}countUpUint32(t){let e=t;e||(e=new ArrayBuffer(4)),e.data&&(e=e.data);let a=new DataView(e),n=0|a.getUint32(0);return n++,a.setInt32(0,n>>>0),a.buffer}}const J="default",z="BINALY_PK_ROW",G=new _;class ${constructor(t,e,a=J){this.userId=a,this.entityClass=e,this.entity=new e,this.entityName=this.entity.getEntityName(),this.ss=new F(e),this.pkais=new q(a),this.em=t}async init(){return await this.ss.setStore(this.userId)}async save(t){if(console.log("EntityManagerImpl save!!A!! data:"+t),!t||!t.getEntityName||!t.getPk||t.getEntityName()!==this.entityName)return void console.log("EntityManagerImpl save!!Z!! data:"+t.getEntityName()+"/this.entityName:"+this.entityName+"/data.getPk:"+t.getPk);let e=t.getPk();e||(e=k.assemblePK(this.entity,await this.pkais.acquirePKNo(this.userId,this.entity))),await this.saveArrayBufferCols(t),t.setPk(e),console.log(t);const a=await this.ss.save(e,t);return console.log("EntityManagerImpl save!!B!! savedData:"+a),a}async saveArrayBufferCols(t){if(G.getEntityName()!==t.getEntityName())for(let e in t){const a=t[e];if(a)if(Array.isArray(a))for(let t of a){const e=a[t];if(!e||e.byteLength)continue;const n=await this.saveArrayBufferData(e);a[t]=new k(n)}else if(a.byteLength){const n=await this.saveArrayBufferData(a);t[e]=new k(n)}}}async saveArrayBufferData(t){if(!t.getEntityName&&t.byteLength){const e=new _(t),a=await this.getBinaryPK();return e.setPk(a),await this.em.Binary.save(e),a}if(t.getEntityName&&"PrimaryKey"===t.getEntityName())return t;if(t.getEntityName&&"Binary"===t.getEntityName()){const e=t.getPk();if(e)return t.setPk(e),await this.em.Binary.save(t),e;{const e=await this.getBinaryPK();return t.setPk(e),await this.em.Binary.save(t),e}}}async getBinaryPK(){const t=await this.pkais.acquirePKNo(this.userId,G,z);return k.assemblePK(G,t)}async loadAll(){return await this.ss.loadAll(this.entity)}async get(t){return console.log("get this.entityName:"+this.entityName+"/pk:"+t),await this.ss.get(t,this.entity)}async delete(t){return await this.ss.delete(t)}}const Z="default";class Y{constructor(){}async initAsNewUser(t,e=Z){console.log(t);for(let a of t)await this.initParEntity(a,e);await this.initParEntity(_,e)}async initParEntity(t,e){const a=(new t).getEntityName();this[a]=new $(this,t,e),await this[a].init()}isPrimaryKey(t){return!(!t||"PrimaryKey"!==t.getEntityName())}async get(t){if(!t)return alert(t),null;const e=k.getPrimaryKey(t);if(!k.isPrimaryKey(e))return alert(e),null;const a=k.getEntityName(e);return console.log("★get entityName:"+a+e),await this[a].get(e)}async delete(t){if(!t)return alert(t),null;const e=k.getEntityName(t);return console.log("★remove entityName:"+e),await this[e].delete(t)}}class Q{constructor(){}getIndigator(t){return!1==!!this.pb&&(this.pb=new v(t)),this.pb}}class X extends S{constructor(t,e,a){super(),this.id=t,this.prefix=e,this.name=a,this.target="",this.no="",this.date="",this.pageNo=0,this.setting=null,this.series=null,this.pageNum=-1,this.images=[],this.outputsPars=[],this.direction="r2l",this.createDate=Date.now(),this.updateDate=Date.now(),this.listing=0}}class tt extends S{constructor(){super(),this.name=null,this.binary=null,this.type=null,this.thumbnail=null,this.modifyDate=null,this.width=null,this.height=null,this.createDate=Date.now(),this.updateDate=Date.now(),this.listing=0}}class et extends S{constructor(){super(),this.name=null,this.binary=null,this.type=null,this.width=null,this.height=null,this.createDate=Date.now(),this.updateDate=Date.now(),this.listing=0}}class at extends S{constructor(t){super(),this.name=t,this.target=null,this.no="",this.date="",this.pageNo=0}}const nt="CopiBon",it="DefaultName",rt="title_";class st{constructor(t,e){this.em=t,this.ms=gt.getInstance(),this.ip=this.ms.ip,this.im=this.ms.im,this.tbm=this.ms.tbm,console.log("title is new!!"+this.tbm)}async loadCurrent(){return this.currentTitle}async load(t=nt){if(this.currentTitle&&this.currentTitle.getPk()===t)return this.currentTitle;let e=await this.em.Title.get(t);return e||(e=await this.createTitle(t)),this.currentTitle=e,e}async createTitle(t=nt,e=rt,a=it){const n=new X(t,e,a);return n.setPk(t),await this.em.Title.save(n),n}async changeTitle(t){this.currentTitle=await this.loadTitle(t),this.currentTitle||(this.currentTitle=await this.createTitle(nt,rt,it))}async loadTitleList(){return await this.em.Title.loadAllData()}async saveTitle(t){if(t){t.updateDate=Date.now();const e=t.images;V.thinningNullData(e);for(let t in e){const a=e[t];k.isPrimaryKey(a)||(e[t]=k.getPrimaryKey(a))}this.currentTitle=await this.em.Title.save(t)}}async deleteTitleCascade(){this.titelId,this.titelPrefix}async addImageFiles(t,e){const a=await this.loadCurrent(),n=a.images;V.thinningNullData(n);const i=[];let r=n.length;for(let a of e){let{imagePk:e,imageEntity:s}=await this.im.saveImageFile(t,a,r);r++,n.push(e),i.push(s)}return console.log(n),await this.saveTitle(a),i}async addImage(t,e){}async removeImage(t){const e=await this.load(),a=e.images;for(let e in a){const n=a[e];k.getPrimaryKey(n)===t&&(await this.im.remove(t),delete a[e])}console.log(a),await this.saveTitle(e)}async loadThumbnails(){const t=await this.loadCurrent();return await this.im.loadThumbnails(t.images)}async updateImagesListing(t){const e=await this.loadCurrent();return await this.im.updateImagesListing(e.images,t)}async exportPDF(){}async exportZip(){}}class ot{constructor(t){this.em=t}async load(t){let e=t;return t||(e=k.getPrimaryKey(t)),await this.em.Binary.get(e)}async save(t,e,a){let n=null;t&&(n=await this.em.Binary.get(t));let i=k.getPrimaryKey(a);return n?n.updateDate=Date.now():n=new _,n.binary=i||a,await this.em.Binary.save(n)}}class ct{constructor(t){this.ms=gt.getInstance(),this.em=t,this.ip=this.ms.ip,this.tbm=this.ms.tbm}async load(t){let e=t;return t||(e=k.getPrimaryKey(t)),await this.em.Images.get(e)}async remove(t){const e=await this.em.get(t);console.log("removeImage imageEntity.thumbnail:"+e.thumbnail);const a=k.getPrimaryKey(e.binary);console.log("removeImage binaryPk:"+a);const n=k.getPrimaryKey(e.thumbnail);if(console.log("removeImage thumbnailPk:"+n),n){const t=await this.em.get(n);console.log("removeImage thumbnailEntity:"+t);const e=k.getPrimaryKey(t.binary);console.log("removeImage thumbnailBinaryPk:"+e),await this.em.delete(e),await this.em.delete(n)}await this.em.delete(a),await this.em.delete(t)}async saveImageFile(t,e,a=0){const n=await t.readAsArrayBuffer(e),i={name:e.name,ab:n,type:e.type},r=await this.ip.createImageNodeByData(i),s=await this.ip.createThumbnail(n,100,100,e.type),o=E.dataURI2ArrayBuffer(s),c=await this.ip.createImageNodeByData({name:e.name,ab:o,type:e.type}),l=await this.tbm.save(null,e.name,o,e.type,c.width,c.height,0);console.log("addImageFiles thumbnailEntity:"+l);const h=k.getPrimaryKey(l);console.log("addImageFiles thumbnailPk:"+h);const u=await this.save(null,e.name,n,e.type,r.width,r.height,h,a);return console.log("addImageFiles imageEntity:"+u),{imagePk:u.getPk(),imageEntity:u}}async save(t,e,a,n,i,r,s,o=0){let c=null;t&&(c=await this.em.Images.get(t));let l=k.getPrimaryKey(a);c?c.updateDate=Date.now():c=new tt,console.log("ImageManager save!!A!! image:"+c),c.name=e||null===e?e:c.name,c.binary=l||a,c.type=n||null===n?n:c.type,c.width=i||null===i?i:c.width,c.height=r||null===r?r:c.height,c.thumbnail=s||null===s?s:k.getPrimaryKey(c.thumbnail),c.listing=o||null===o?o:c.listing;const h=await this.em.Images.save(c);return console.log("ImageManager save!!B!! image:"+h),h}async loadThumbnails(t){const e=[],a=[];for(let e of t){const t=k.getPrimaryKey(e),n=await this.load(t);a.push(n)}V.orderBy(a,[{colName:"listing",isDESC:!1}]);for(let t of a){const a=k.getPrimaryKey(t),n=await this.tbm.loadFromImagePk(a);e.push(n)}return e}}class lt{constructor(t){this.em=t}async loadFromImagePk(t){const e=k.getPrimaryKey(t),a=await this.em.get(e);if(!a||!a.thumbnail)return null;const n=k.getPrimaryKey(a.thumbnail),i=await this.em.get(n);return i.parentPk=e,i}async load(t){let e=t;return t||(e=k.getPrimaryKey(t)),await this.em.Thumbnales.get(e)}async save(t,e,a,n,i,r,s=0){let o=null;t&&(o=await this.em.Thumbnales.get(t));let c=k.getPrimaryKey(a);return o?o.updateDate=Date.now():o=new et,o.name=e||null===e?e:o.name,o.binary=c||a,o.type=n||null===n?n:o.type,o.width=i||null===i?i:o.width,o.height=r||null===r?r:o.height,o.listing=s||null===s?s:o.listing,await this.em.Thumbnales.save(o)}}class ht extends S{constructor(){super(),this.name=null,this.binary=null,this.type=null,this.modifyDate=null,this.width=null,this.height=null,this.createDate=Date.now(),this.updateDate=Date.now(),this.listing=0}}const ut=/^image\/.+/;class dt{constructor(){this.canvas=n.createCanvas(null,"hidden"),this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas)}setDataURI(t){this.dataURI=t}create(t,e,a,n){return new Promise((i,r)=>{const s=new Image;s.src=E.arrayBuffer2DataURI(t,n),s.onload=(()=>{const t=e/s.width,n=a/s.height,r=t<=n?t:n;this.canvas.height=s.height*r,this.canvas.width=s.width*r,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.scale(r,r),this.ctx.drawImage(s,0,0),i(this.exportPng())}),s.onerror=(t=>{console.log("失敗"),console.log(t),r(null)})})}exportPng(){return this.canvas.toDataURL()}exportJpeg(t=1){return this.canvas.toDataURL("image/jpeg",t)}createImageNodeByData(t){return new Promise((e,a)=>{let{name:i,ab:r,type:s}=t,o=n.createImage();o.alt=escape(i),s&&s.match(ut)?(o.src=E.arrayBuffer2DataURI(r,s),o.onload=(()=>{t.height=o.height,t.width=o.width,e(o)})):e(o)})}}class pt{constructor(){this.ip=new dt}async createThumbnail(t,e){const a=await this.ip.create(t,100,100,e);return console.log(a),a}async createImageNodeByData(t){return await this.ip.createImageNodeByData(t)}}const mt=new class{constructor(){this.vpl=new Q,this.em=new Y,this.ip=new pt}async init(){await this.em.initAsNewUser([tt,ht,at,et,X]),this.ip=new pt,this.bm=new ot(this.em),this.tbm=new lt(this.em),this.im=new ct(this.em),this.tm=new st(this.em),await this.tm.load()}getViewPartsLoader(){return this.vpl}};class gt{static getInstance(){return mt}async init(){await mt.init()}}class yt{constructor(t){this.progress=t,this.name="FileUploader",this.ms=gt.getInstance()}async readAsArrayBuffer(t){return await this.read(t,"ArrayBuffer")}async readAsBinaryString(t){return await this.read(t,"BinaryString")}async readAsDataURL(t){return await this.read(t,"DataURL")}async readAsText(t){return await this.read(t,"text")}read(t,e="binaryString"){return new Promise((a,n)=>{this.reader=new FileReader,this.progress.init(),this.reader.onerror=(t=>{n(this.errorHandler(t))}),this.reader.onprogress=(t=>{this.updateProgress(t)}),this.reader.onabort=(t=>{alert("File read cancelled")}),this.reader.onloadstart=(t=>{this.onLoadStart(t)}),this.reader.onload=(t=>{a(this.onload(t))}),"ArrayBuffer"===e?this.reader.readAsArrayBuffer(t):"BinaryString"===e?this.reader.readAsBinaryString(t):"DataURL"===e?this.reader.readAsDataURL(t):this.reader.readAsText(t)})}abortRead(){this.reader&&this.reader.abort()}errorHandler(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case t.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case t.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}}updateProgress(t){const e=Math.round(t.loaded/t.total*100);e<100&&this.progress.progress(e)}onload(t){return this.reader.result}onLoadStart(){this.progress.start()}}const ft=new Map;class wt extends w{constructor(t){super(t,"FileProcessor","FileProcessor"),this.vpl=this.ms.getViewPartsLoader(),this.ip=this.ms.ip,this.em=this.ms.em,this.tm=this.ms.tm,this.pb=this.vpl.getIndigator(this)}render(){return this.elm}async processFiles(t){const e=new yt(this.pb),a=await this.tm.addImageFiles(e,t);for(let t of a){const e=t.getPk();ft.set(e,t.name)}console.log("=★=processFiles"),await this.showImages(a)}async showFilesInit(){const t=(await this.tm.load()).images,e=[];for(let a in t){const n=t[a];if(!n)continue;const i=await this.em.get(n);e.push(i)}await this.showImages(e),console.log("=★=showFilesInit iamageEntitis:"+e.length+"/this.elm:"+this.elm.parentNode)}async showImages(t){V.orderBy(t,[{colName:"listing",isDESC:!1},{colName:"updateDate",isDESC:!0}]);for(let e of t)e&&n.append(this.elm,await this.crateDataLine(e))}async remove(t,e){window.confirm("delete ok?")&&(await this.tm.removeImage(e),n.removeChild(t.target.parentNode.parentNode),ft.delete(e))}async crateDataLine(t){const e=t.getPk(),a=await this.em.get(t.binary),i=await this.ip.createImageNodeByData({name:t.name,ab:a.ab,type:t.type}),r=n.createLi(),s=n.create(null,"delButton","☓");n.on(s,"click",t=>{this.remove(t,e)});const o=a.ab?new Uint8Array(a.ab).length:0,c=n.create(),l=n.createSpan(null,"imageDataLine",escape(t.name)+" ("+(t.type||"n/a")+") - "+o+"bytes, last modified: "+t.modifyDate+" size:"+t.width+"x"+t.height);return n.append(c,l),n.append(c,s),n.append(r,c),n.append(r,i),r}}class bt extends w{constructor(t){super(t,"ImageDetail","ImageDetail")}render(){const t=n.create("ImageDetailA","ImageDetailA",this.id);return n.append(this.elm,t),this.elm}}class vt extends w{constructor(t){super(t,"PageImages","PageImages")}render(){const t=n.create("PageImagesA","PageImagesA",this.id);return n.append(this.elm,t),this.elm}}class At extends w{constructor(t){super(t,"FilesArea","FilesArea"),this.fp=new wt(this),this.imageDetail=new bt(this),this.pageImages=new vt(this)}updateAsAttach(t,e){super.updateAsAttachExecute(t,e),console.log("FilesArea@updateAsAttach"),this.fp.showFilesInit()}render(){return this.fp.attach(this),this.imageDetail.attach(this),this.pageImages.attach(this),this.elm}}class Bt extends w{constructor(t){super(t,"container","container"),this.fileUploadArea=new D(this),this.titleSettings=new x(this),this.filesArea=new At(this),this.exportButton=new P(this)}updateAsAttach(t,e){super.updateAsAttachExecute(t,e),console.log("Container@updateAsAttach"),this.fileUploadArea.addEventListeners(this.filesArea.fp)}render(){return this.fileUploadArea.attach(this),this.titleSettings.attach(this),this.filesArea.attach(this),this.exportButton.attach(this),this.elm}}class Nt extends w{constructor(t){super(t,"footer","footer"),this.copyright="ryunosinfx"}render(){const t=n.create("copyright","copyright",this.copyright);return n.append(this.elm,t),this.elm}}class Dt extends w{constructor(t){super(null,"frame","frame"),this.ms=t}async render(t){this.header=new b(this,t),this.footer=new Nt(this),this.header.attach(this),this.container=new Bt(this),this.container.attach(this),this.footer.attach(this),n.attachBody(this.elm)}}a.d(e,"default",function(){return Pt});const xt="CopiBon";class Pt{constructor(){this.mainService=gt.getInstance()}async init(){await this.mainService.init(),this.mf=new Dt(this.mainService),this.mf.render(xt);const t=await a.e(0).then(a.bind(null,7));console.log(t.sum(22,2200))}static main(){(new Pt).init()}}Pt.main()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var a=e.protocol+"//"+e.host,n=a+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?a+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,a){var n,i,r={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),o=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var a=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}e[t]=a}return e[t]}}(),c=null,l=0,h=[],u=a(2);function d(t,e){for(var a=0;a<t.length;a++){var n=t[a],i=r[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(w(n.parts[s],e))}else{var o=[];for(s=0;s<n.parts.length;s++)o.push(w(n.parts[s],e));r[n.id]={id:n.id,refs:1,parts:o}}}}function p(t,e){for(var a=[],n={},i=0;i<t.length;i++){var r=t[i],s=e.base?r[0]+e.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(o):a.push(n[s]={id:s,parts:[o]})}return a}function m(t,e){var a=o(t.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=h[h.length-1];if("top"===t.insertAt)n?n.nextSibling?a.insertBefore(e,n.nextSibling):a.appendChild(e):a.insertBefore(e,a.firstChild),h.push(e);else if("bottom"===t.insertAt)a.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(t.insertInto+" "+t.insertAt.before);a.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function y(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),f(e,t.attrs),m(t,e),e}function f(t,e){Object.keys(e).forEach(function(a){t.setAttribute(a,e[a])})}function w(t,e){var a,n,i,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var s=l++;a=c||(c=y(e)),n=A.bind(null,a,s,!1),i=A.bind(null,a,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",f(e,t.attrs),m(t,e),e}(e),n=function(t,e,a){var n=a.css,i=a.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(n=u(n));i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(s),o&&URL.revokeObjectURL(o)}.bind(null,a,e),i=function(){g(a),a.href&&URL.revokeObjectURL(a.href)}):(a=y(e),n=function(t,e){var a=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,a),i=function(){g(a)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var a=p(t,e);return d(a,e),function(t){for(var n=[],i=0;i<a.length;i++){var s=a[i];(o=r[s.id]).refs--,n.push(o)}t&&d(p(t,e),e);for(i=0;i<n.length;i++){var o;if(0===(o=n[i]).refs){for(var c=0;c<o.parts.length;c++)o.parts[c]();delete r[o.id]}}}};var b,v=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function A(t,e,a,n){var i=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=function(t,e){var a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"==typeof btoa){var i=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[a].concat(r).concat([i]).join("\n")}var s;return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(n[r]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="("+s[2]+") and ("+a+")"),e.push(s))}},e}},function(t,e,a){(t.exports=a(4)(!1)).push([t.i,"html, body {\n  min-height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n}\n\ndiv {\n  box-sizing: border-box;\n}\n\ndiv.frame {\n  min-height: 99%;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  margin: 0;\n  border: solid 1px blue;\n}\n\ndiv.footer {\n  min-height: 100%;\n  width: 100%;\n  border: solid 1px red;\n  padding: 0.5em;\n}\n\ndiv.copyright {\n  width: 100%;\n  padding: 0.5em;\n  text-align: center;\n}\n\ndiv.header {\n  min-height: 100%;\n  width: 100%;\n  border: solid 1px green;\n  padding: 0.2em;\n}\n\ndiv.title {\n  font-size: 2em;\n  font-weight: bold;\n  background-color: #c23cc1;\n  padding: 0.5em;\n}\n\nlabel.FileUploadArea {\n  display: block;\n  min-height: 100%;\n  width: 100%;\n  border: dotted 1px black;\n  background-color: #a8bae0;\n  padding-top: 5em;\n  padding-bottom: 5em;\n  text-align: center;\n  font-size: 2em;\n}\n\ninput.FileUploadFile {\n  position: absolute;\n  top: -10em;\n  left: 10em;\n  visibility: hidden;\n}\n\ndiv.FilesArea {\n  min-height: 100%;\n  width: 100%;\n  border: dotted 1px black;\n  background-color: rgb(124, 110, 241);\n  padding-top: 1em;\n  padding-bottom: 1em;\n  text-align: center;\n  font-size: 2em;\n}\n\nspan.imageDataLine {\n  display: inline-block;\n  font-size: 50%;\n  padding: 0.2em;\n}\n\ndiv.delButton {\n  display: inline-block;\n  font-size: 50%;\n  width: 3em;\n  padding: 0.2em;\n  line-height: 1em;\n  text-align: center;\n  cursor: pointer;\n  background-color: #675275;\n}\n\ndiv.delButton:active {\n  color: red;\n}\n\ndiv.delButton:hover {\n  color: #d48a60;\n  background-color: #7b4f99;\n}\ncanvas.hidden {\n  position:absolute;\n  top:-10000px;\n}\n\n[draggable] {\n  user-select: none;\n}\n\n.column {\n  height: 150px;\n  width: 150px;\n  float: left;\n  border: 2px solid #666666;\n  background-color: #ccc;\n  margin-right: 5px;\n  border-radius: 10px;\n  box-shadow: inset 0 0 3px #000;\n  text-align: center;\n  cursor: move;\n}\n\n.column.over {\n  border: 2px dashed #000;\n}\n\n.column header {\n  color: #fff;\n  text-shadow: #000 0 1px;\n  box-shadow: 5px;\n  border-bottom: 1px solid #ddd;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n}\n",""])},function(t,e,a){var n=a(5);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(3)(n,i);n.locals&&(t.exports=n.locals)}]);
//# sourceMappingURL=bundle.js.map